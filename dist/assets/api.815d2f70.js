var v=function(){let a=this.toString();if(arguments.length){const n=typeof arguments[0],i=n==="string"||n==="number"?Array.prototype.slice.call(arguments):arguments[0];for(const e in i)a=a.replace(new RegExp(`\\{${e}\\}`,"gi"),i[e])}return a};String.prototype.formatUnicorn=v;var w=function a(n){function i(t,o,c){var u,s={};if(Array.isArray(t))return t.concat(o);for(u in t)s[c?u.toLowerCase():u]=t[u];for(u in o){var r=c?u.toLowerCase():u,m=o[u];s[r]=r in s&&typeof m=="object"?i(s[r],m,r==="headers"):m}return s}function e(t,o,c,u){typeof t!="string"&&(t=(o=t).url);var s={config:o},r=i(n,o),m={},p=u||r.data;(r.transformRequest||[]).map(function(f){p=f(p,r.headers)||p}),p&&typeof p=="object"&&typeof p.append!="function"&&(p=JSON.stringify(p),m["content-type"]="application/json");var l=typeof document!="undefined"&&document.cookie.match(RegExp("(^|; )"+r.xsrfCookieName+"=([^;]*)"));if(l&&(m[r.xsrfHeaderName]=l[2]),r.auth&&(m.authorization=r.auth),r.baseURL&&(t=t.replace(/^(?!.*\/\/)\/?(.*)$/,r.baseURL+"/$1")),r.params){var b=~t.indexOf("?")?"&":"?";t+=b+(r.paramsSerializer?r.paramsSerializer(r.params):new URLSearchParams(r.params))}return(r.fetch||fetch)(t,{method:c||r.method,body:p,headers:i(r.headers,m,!0),credentials:r.withCredentials?"include":"same-origin"}).then(function(f){for(var d in f)typeof f[d]!="function"&&(s[d]=f[d]);var S=r.validateStatus?r.validateStatus(f.status):f.ok;return r.responseType=="stream"?(s.data=f.body,s):f[r.responseType||"text"]().then(function(g){s.data=g,s.data=JSON.parse(g)}).catch(Object).then(function(){return S?s:Promise.reject(s)})})}return n=n||{},e.request=e,e.get=function(t,o){return e(t,o,"get")},e.delete=function(t,o){return e(t,o,"delete")},e.head=function(t,o){return e(t,o,"head")},e.options=function(t,o){return e(t,o,"options")},e.post=function(t,o,c){return e(t,c,"post",o)},e.put=function(t,o,c){return e(t,c,"put",o)},e.patch=function(t,o,c){return e(t,c,"patch",o)},e.all=Promise.all.bind(Promise),e.spread=function(t){return function(o){return t.apply(this,o)}},e.CancelToken=typeof AbortController=="function"?AbortController:Object,e.defaults=n,e.create=a,e}();const x="https://chan-api-ri.herokuapp.com",h=class{constructor(a){this.segment=a,this.isParameterized=h.param_exp.test(a)}static segments(a){return a.split("/").map(n=>new h(n))}toString(){let a=this.segment;return this.isParameterized&&(a=a.substring(1,a.length-1)),a}};let y=h;y.param_exp=new RegExp(/{([^{]*)}/g);class _{constructor(n){this.relative_url=n,this.segments=y.segments(n)}get parameterized_segments(){return this.segments.filter(n=>n.isParameterized)}matching(n){const i=this.parameterized_segments.map(t=>t.toString()),e=Object.keys(n);return i.length===e.length&&e.every(t=>i.includes(t))}format(n){return this.relative_url.formatUnicorn(n)}toString(){return this.relative_url}}const U=["/boards/{board}","/boards/{board}/threads/{thread}","/boards/{board}/threads/{thread}/replies/{reply}"].map(a=>new _(a));function R(a){const n=U.find(i=>i.matching(a));if(!n||n.toString()==="")throw new Error("No match");return new URL(n.format(a),x)}async function z(a){const n=R(a);return(await w.get(n.toString())).data}export{w as a,R as f,z as t};
